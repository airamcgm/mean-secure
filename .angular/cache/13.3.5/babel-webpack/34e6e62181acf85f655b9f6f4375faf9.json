{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core'; //import { of } from 'rxjs/observable/of';\n\nlet TransactionsComponent = class TransactionsComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.displayStyle = \"none\";\n  }\n\n  ngOnInit() {}\n\n  openPopup() {\n    this.displayStyle = \"block\";\n  }\n\n  closePopup() {\n    this.displayStyle = \"none\";\n    this.logout();\n  }\n\n  logout() {\n    localStorage.removeItem('jwtToken');\n    this.router.navigate(['login']);\n  }\n\n  linkidFunction(data) {\n    this.linkid = data; //aqui cambiar por data en lugar de id \"a0192337-b8a7-45b0-832d-0eb8aa076d0b\"\n\n    this.getTransactions();\n    this.getAccounts();\n    this.getOwners();\n    this.getBalance();\n  }\n\n  getTransactions() {\n    fetch(`/api/transaction/${this.linkid}`, {\n      method: 'GET'\n    }).then(response => response.json()).then(data => {\n      this.transactions = data;\n      this.countTransactions = Object.keys(this.transactions).length;\n      console.log(this.transactions);\n    }).catch(error => console.error('Error:', error));\n  }\n\n  getAccounts() {\n    fetch(`/api/account/${this.linkid}`, {\n      method: 'GET'\n    }).then(response => response.json()).then(data => {\n      this.accounts = data;\n      this.countAccounts = Object.keys(this.accounts).length;\n      console.log(this.accounts);\n    }).catch(error => console.error('Error:', error));\n  }\n\n  getOwners() {\n    fetch(`/api/owner/${this.linkid}`, {\n      method: 'GET'\n    }).then(response => response.json()).then(data => {\n      this.owners = data;\n      this.countOwners = Object.keys(this.owners).length;\n      console.log(this.owners);\n    }).catch(error => console.error('Error:', error));\n  }\n\n  getBalance() {\n    fetch(`/api/balance/${this.linkid}`, {\n      method: 'GET'\n    }).then(response => response.json()).then(data => {\n      this.balances = data;\n      console.log(this.balances);\n    }).catch(error => console.error('Error:', error));\n  }\n\n  deleteLink() {\n    fetch(`/api/delete/${this.linkid}`, {\n      method: 'GET'\n    }).then(response => response.json()).then(data => this.logout()).catch(error => console.error('Error:', error));\n  }\n\n  setFlag(opc) {\n    this.opc = opc;\n  }\n\n};\nTransactionsComponent = __decorate([Component({\n  selector: 'app-transactions',\n  templateUrl: './transactions.component.html',\n  styleUrls: ['./transactions.component.css']\n})], TransactionsComponent);\nexport { TransactionsComponent };","map":null,"metadata":{},"sourceType":"module"}